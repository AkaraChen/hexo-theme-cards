<script>
    (() => {
        var d = document.createElement('link');
        d.rel = 'stylesheet';
        d.href = '<%- theme.vendors.fancybox.css || 'https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css' %>';
        d.crossOrigin = 'annoymous';
        d.media = 'screen';
        document.head.appendChild(d);
    })();
</script>
<script crossorigin="anonymous" src="<%- theme.vendors.fancybox.js || 'https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js' %>"></script>
<script>
    let lazyloadT = Boolean('<%- config.lazyload !== null %>'),
        auto_fancybox = Boolean('<%- theme.optimize.fancybox.auto %>')
    if (auto_fancybox) {
        $(".post__content").find('img').each(() => {
            var element = document.createElement("a");
            $(element).attr("data-fancybox", "gallery");
            $(element).attr("href", $(this).attr("src"));
            if (lazyloadT) {
                $(element).attr("href", $(this).attr("data-srcset"));
            }
            $(this).wrap(element);
        });
    } else {
        $(".post__content").find("fancybox").find('img').each(() => {
            var element = document.createElement("a");
            $(element).attr("data-fancybox", "gallery");
            $(element).attr("href", $(this).attr("src"));
            if (lazyloadT) {
                $(element).attr("href", $(this).attr("data-srcset"));
            }
            $(this).wrap(element);
        });
    }
</script>